document.addEventListener('alpine:init',()=>{Alpine.store('travelData',{selectedDestination:'',selectedPrice:'',search:'',packages:[],filteredPackages:[],async init(){try{const res=await fetch('packages.json');this.packages=await res.json();this.filteredPackages=this.packages}catch(error){console.error('Error loading packages:',error)}},filterPackages(){this.filteredPackages=this.packages.filter(pkg=>{const matchDestination=this.selectedDestination===''||pkg.destination===this.selectedDestination;const matchPrice=this.selectedPrice===''||(this.selectedPrice==='low'&&pkg.price<5000)||(this.selectedPrice==='mid'&&pkg.price>=5000&&pkg.price<=6000)||(this.selectedPrice==='high'&&pkg.price>6000);const matchSearch=this.search===''||pkg.name.toLowerCase().includes(this.search.toLowerCase())||pkg.destination.toLowerCase().includes(this.search.toLowerCase());return matchDestination&&matchPrice&&matchSearch})},resetFilters(){this.selectedDestination='';this.selectedPrice='';this.search='';this.filteredPackages=this.packages},viewPackage(pkg){const packageUrls={'Tokyo City Lights':'Japan/tokyo_city.html','Kyoto Heritage Escape':'Japan/kyoto_heritage.html','Roman Holiday':'Italy/roman_holiday.html','Venice & Florence Romance':'Italy/venice_florence.html','Seoul City Vibes':'South Korea/seoul_city.html','Jeju Island Escape':'South Korea/jeju_island.html'};const url=packageUrls[pkg.name];if(url){window.location.href=url}}})});function setDestinationFromNavbar(destination){document.getElementById('search-section').scrollIntoView({behavior:'smooth',block:'start'});if(window.Alpine&&Alpine.store('travelData')){Alpine.store('travelData').selectedDestination=destination;Alpine.store('travelData').filterPackages()}else{setTimeout(()=>{const searchSection=document.getElementById('search-section');if(searchSection&&searchSection.__x&&searchSection.__x.$data){searchSection.__x.$data.selectedDestination=destination;searchSection.__x.$data.filterPackages()}},300)}}function scrollToSearch(){document.getElementById('search-section').scrollIntoView({behavior:'smooth',block:'start'})} 